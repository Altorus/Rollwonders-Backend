{% extends 'base.html' %}
{% block header %}
    {% include 'components/headers/recipe_header.html' with title="Ваш рецепт" %}
{% endblock %}

{% block content %}
    <main>

        <section class="pt-2">
            <div class="title-section">
                <div class="container title-section__container">
                    <div class="title-section__title">{{ object.name }}</div>
                    <div class="icon-button icon-button_accent __openShareMenu">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 4.5C13 3.91976 13.2018 3.35758 13.5709 2.90985C13.9399 2.46211 14.4533 2.15669 15.0228 2.04595C15.5924 1.9352 16.1828 2.02603 16.6927 2.30285C17.2027 2.57968 17.6004 3.02527 17.8179 3.56324C18.0353 4.1012 18.0588 4.69804 17.8844 5.25145C17.71 5.80486 17.3485 6.28036 16.8619 6.59646C16.3753 6.91255 15.7939 7.04955 15.2174 6.98397C14.6409 6.91839 14.1051 6.6543 13.702 6.237L6.96999 9.604C7.01177 9.86634 7.01177 10.1336 6.96999 10.396L13.703 13.763C14.1182 13.3336 14.6734 13.067 15.2681 13.0115C15.8629 12.956 16.4578 13.1153 16.9452 13.4606C17.4327 13.8058 17.7804 14.3141 17.9255 14.8936C18.0705 15.473 18.0033 16.0852 17.736 16.6194C17.4688 17.1536 17.019 17.5744 16.4683 17.8057C15.9176 18.037 15.3023 18.0634 14.7337 17.8803C14.1652 17.6971 13.681 17.3165 13.3689 16.8072C13.0567 16.2979 12.9372 15.6937 13.032 15.104L6.29899 11.737C5.95283 12.0951 5.50759 12.3417 5.02037 12.4451C4.53315 12.5484 4.02615 12.5039 3.5644 12.3172C3.10264 12.1305 2.70717 11.8102 2.4287 11.3972C2.15024 10.9843 2.00146 10.4976 2.00146 9.9995C2.00146 9.50143 2.15024 9.01471 2.4287 8.60176C2.70717 8.18881 3.10264 7.86845 3.5644 7.68176C4.02615 7.49507 4.53315 7.45056 5.02037 7.55394C5.50759 7.65732 5.95283 7.90388 6.29899 8.262L13.032 4.896C13.0109 4.76504 13.0002 4.63263 13 4.5Z"
                                  fill="#59524C"/>
                        </svg>

                    </div>
                </div>
            </div>
        </section>

        <section class="pt-2">
            <div class="create-recipe-section">
                <div class="container create-recipe-section__container">
                    <div class="ingridient-cards">
                        <div class="ingridient-card accordion-item">

                            <div class="ingridient-card__header accordion-item__header">
                                <div class="ingridient-card__header__text-block __ingridientElement">
                                    <div class="ingridient-card__header__text-block__name">Ингредиенты</div>
                                </div>
                                <i class="icon-button icon-button_subdued">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                              d="M9.47 6.47C9.61062 6.32955 9.80125 6.25066 10 6.25066C10.1987 6.25066 10.3894 6.32955 10.53 6.47L14.78 10.72C14.8537 10.7887 14.9128 10.8715 14.9538 10.9635C14.9948 11.0555 15.0168 11.1548 15.0186 11.2555C15.0204 11.3562 15.0018 11.4562 14.9641 11.5496C14.9264 11.643 14.8703 11.7278 14.799 11.799C14.7278 11.8703 14.643 11.9264 14.5496 11.9641C14.4562 12.0018 14.3562 12.0204 14.2555 12.0186C14.1548 12.0168 14.0555 11.9948 13.9635 11.9538C13.8715 11.9128 13.7887 11.8537 13.72 11.78L10 8.06L6.28 11.78C6.13782 11.9125 5.94978 11.9846 5.75548 11.9812C5.56118 11.9777 5.37579 11.899 5.23838 11.7616C5.10096 11.6242 5.02225 11.4388 5.01882 11.2445C5.0154 11.0502 5.08752 10.8622 5.22 10.72L9.47 6.47Z"
                                              fill="#59524C"/>
                                    </svg>
                                </i>
                            </div>

                            <div class="accordion-item__body">
                                <div class="ingridient-card__body ingridient-card__body_recipe accordion-item__content">
                                    {% for ingredient in object.ingredients.all %}
                                        <div class="ingridient-card__body__ingridient-item">
                                            <div class="ingridient-card__body__ingridient-item__name">{{ ingredient.ingredient.name }}</div>
                                            <div class="ingridient-card__body__ingridient-item__description">{{ ingredient.quantity }}</div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="mt-2">
            <div class="finally-recipe-section">
                <div class="container finally-recipe-section__container">

                    {% for step in object.steps.all %}
                        <div class="finally-recipe-section__step">
                            <div class="finally-recipe-section__step__name">
                                Шаг {{ forloop.counter }}
                            </div>
                            <span class="finally-recipe-section__step__content">{{ step.text }}</span>
                        </div>
                    {% endfor %}


                </div>
            </div>
        </section>
    </main>
{% endblock %}

{% block footer %}
    <footer>
        <div class="container footer__container footer__container_row">
            <a href="{% url 'core:make_recipe' %}" class="button button_color_accent">
                <span>Новый рецепт</span>
            </a>
            <a href="{% url 'core:index' %}" class="button button_color_subaccent">
                <span>На главную</span>
            </a>
        </div>
    </footer>
{% endblock %}
